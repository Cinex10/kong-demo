{% extends "base.html" %}
{% block title %}Générateur Interactif{% endblock %}
{% block content %}
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h4 class="mb-0">Générateur Interactif</h4>
        </div>
        <div class="card-body">
            <form method="post" action="{{ url_for('generate') }}">
                <div class="mb-3">
                    <label for="project_name" class="form-label">Nom du Projet</label>
                    <input type="text" class="form-control" id="project_name" name="project_name" placeholder="ex: demo-finance-api" required>
                </div>

                <div class="mb-3">
                    <label for="api_name" class="form-label">Nom de l'API</label>
                    <input type="text" class="form-control" id="api_name" name="api_name" placeholder="ex: finance-api" required>
                </div>

                <div class="mb-3">
                    <label for="api_path" class="form-label">Chemin de l'API</label>
                    <input type="text" class="form-control" id="api_path" name="api_path" placeholder="/api/v1" required>
                </div>

                <div class="mb-3">
                    <label for="upstream_url" class="form-label">URL Upstream</label>
                    <input type="url" class="form-control" id="upstream_url" name="upstream_url" placeholder="http://backend-service:8000" required>
                </div>

                <div class="mb-3">
                    <label class="form-label">Plugins Kong</label>
                    <div class="row">
                        {% for plugin in ["rate-limiting", "key-auth", "cors", "request-transformer"] %}
                        <div class="col-md-6">
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" name="plugins" value="{{ plugin }}" id="{{ plugin }}">
                                <label class="form-check-label" for="{{ plugin }}">{{ plugin.replace("-", " ").title() }}</label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>

                <div class="text-end">
                    <button type="submit" class="btn btn-primary">Générer</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
